<!DOCTYPE html>
<html>
<head>
    <title>Bookmarklets</title>
    <meta charset="utf-8">
    <link rel='stylesheet' id='knowlton-styles-css'  href='https://assets.digitalfirstmedia.com/prod/static/css/denverpost.css?ver=1.0' type='text/css' media='all' />
    <link rel='stylesheet' id='mason-fonts-css'  href='https://fonts.googleapis.com/css?family=Open%20Sans|Source+Serif+Pro%3A400%2C400italic%2C600%2C600italic%2C700%2C700italic%7CSource+Sans+Pro%3A400%2C400italic%2C600%2C600italic%2C700%2C400italic&#038;ver=4.5.3' type='text/css' media='all' />
    <style type="text/css">
    body { margin: 1em; }
    .body-copy h2 { margin-top: 1em; }
    body .body-copy>* { margin-bottom:.4em; }
    </style>
</head>
<body>
    <h1>Bookmarklets!</h1>
    <p>Note on the WordPress bookmarklets: Don't use 'em in visual mode.</p>

    <section class="body-copy">
        <h2>Flush Cache Bookmarklet</h2>
        <p>
        Drag this link to your browser's bookmakers bar and click the button to flush the cache on any Denver Post page you're on.
        </p>
        <a href="javascript:void((function(){ var iframe = document.createElement('iframe'); iframe.style.display = 'none'; iframe.src='http://denverpostplus.com/app/cache-buster/?url=' + window.location.href; document.body.appendChild(iframe);  })());">ðŸš½</a>

<h2>In-Article-Promo Bookmarklet</h2>
<p>
Drag this link to your browser's bookmakers bar and click it when you're editing an article to automatically add in-article promos (for soft news, hard news, sports and for Broncos) every 6 paragraphs.
</p>
<p><strong>NOTE:</strong> This must be clicked before you make any other edits to an article.</p>
<!--
<a href="javascript:void((function(){ var e = document.createElement('script'); e.setAttribute('src', '//extras.denverpost.com/app/bookmarklet/inarticlepromo.js'); document.body.appendChild(e); })());">+ PROMOS</a>
<a href="javascript:void((function(){      })());">+ PROMOS</a>
<a href="javascript:void((function(){      })());">+ PROMOS</a>
-->
<a href="javascript:void((function(){  var content = jQuery('#content'); var grafs = content.text().split('\n\n'); var len = grafs.length; var promos = [1,2,3,4,5].sort(function() { return .5 - Math.random(); }); promos.pop(); promos.pop(); var item = promos.pop(); var editing = true; var ceiling = 10; if ( content.text().indexOf('in-article-promo') !== -1 ) { promos = []; item = undefined; } if ( typeof item !== 'undefined' ) { var section_id = prompt('Enter 1 for soft-news promos, 2 for hard-news promos, 3 for Broncos and nothing for sports, 6 = entertainment, 7 restaurants, 8 food, 9 Ask Amy, 10 books. 11 movies, 12 home-garden, 13 yourhub, 14 editorials, 15 politics, 16 travel\n 420 marijuana.', ''); var section = 'sports'; if ( section_id.indexOf('420') >= 0 ) { section = 'marijuana'; } else if ( section_id.indexOf('10') >= 0 ) { section = 'books'; } else if ( section_id.indexOf('11') >= 0 ) { section = 'movies'; } else if ( section_id.indexOf('12') >= 0 ) { section = 'home-garden'; } else if ( section_id.indexOf('13') >= 0 ) { section = 'yourhub'; } else if ( section_id.indexOf('14') >= 0 ) { section = 'editorials'; } else if ( section_id.indexOf('15') >= 0 ) { section = 'politics'; } else if ( section_id.indexOf('16') >= 0 ) { section = 'travel'; } else if ( section_id.indexOf('1') >= 0 ) { section = 'dont-miss'; } else if ( section_id.indexOf('2') >= 0 ) { section = 'hard-news'; } else if ( section_id.indexOf('3') >= 0 ) { section = 'broncos'; } else if ( section_id.indexOf('4') >= 0 ) { section = 'nuggets'; } else if ( section_id.indexOf('5') >= 0 ) { section = 'rockies'; } else if ( section_id.indexOf('6') >= 0 ) { section = 'entertainment'; } else if ( section_id.indexOf('7') >= 0 ) { section = 'restaurants'; } else if ( section_id.indexOf('8') >= 0 ) { section = 'food'; } else if ( section_id.indexOf('9') >= 0 ) { section = 'ask-amy'; } } if ( len > 10 ) { grafs.splice(4, 0, '[dfm_iframe src=\'http://extras.denverpost.com/app/in-article-promo/' + section + '-' + item + '.html\' width=\'100%\' height=\'100px\']'); item = promos.pop(); if ( len > 16 ) { grafs.splice(Math.floor(len/2) + 1, 0, '[dfm_iframe src=\'http://extras.denverpost.com/app/in-article-promo/' + section + '-' + item + '.html\' width=\'100%\' height=\'100px\']'); item = promos.pop(); } } if ( typeof item !== 'undefined' && grafs[grafs.length-1].indexOf('in-article') === -1 ) { grafs.splice(len, 0, '[dfm_iframe src=\'http://extras.denverpost.com/app/in-article-promo/' + section + '-' + item + '.html\' width=\'100%\' height=\'100px\']'); } jQuery('#content').text(grafs.join('\n\n'));    })());">+ PROMOS</a>

<script>
/* 45 lines long
var content = jQuery('#content');
var grafs = content.text().split('\n\n');
var len = grafs.length;
var promos = [1,2,3,4,5].sort(function() { return .5 - Math.random(); });
promos.pop(); promos.pop();
var item = promos.pop();
var editing = true;
var ceiling = 10;
if ( content.text().indexOf('in-article-promo') !== -1 ) {
    promos = [];
    item = undefined;
}
if ( typeof item !== 'undefined' ) {
    var section_id = prompt('Enter 1 for soft-news promos, 2 for hard-news promos, 3 for Broncos and nothing for sports, 6 = entertainment, 7 restaurants, 8 food, 9 Ask Amy, 10 books. 11 movies, 12 home-garden, 13 yourhub, 14 editorials, 15 politics, 16 travel\n 420 marijuana.', '');
    var section = 'sports';
    if ( section_id.indexOf('420') >= 0 ) { section = 'marijuana'; }
    else if ( section_id.indexOf('10') >= 0 ) { section = 'books'; }
    else if ( section_id.indexOf('11') >= 0 ) { section = 'movies'; }
    else if ( section_id.indexOf('12') >= 0 ) { section = 'home-garden'; }
    else if ( section_id.indexOf('13') >= 0 ) { section = 'yourhub'; }
    else if ( section_id.indexOf('14') >= 0 ) { section = 'editorials'; }
    else if ( section_id.indexOf('15') >= 0 ) { section = 'politics'; }
    else if ( section_id.indexOf('16') >= 0 ) { section = 'travel'; }
    else if ( section_id.indexOf('1') >= 0 ) { section = 'dont-miss'; }
    else if ( section_id.indexOf('2') >= 0 ) { section = 'hard-news'; }
    else if ( section_id.indexOf('3') >= 0 ) { section = 'broncos'; }
    else if ( section_id.indexOf('4') >= 0 ) { section = 'nuggets'; }
    else if ( section_id.indexOf('5') >= 0 ) { section = 'rockies'; }
    else if ( section_id.indexOf('6') >= 0 ) { section = 'entertainment'; }
    else if ( section_id.indexOf('7') >= 0 ) { section = 'restaurants'; }
    else if ( section_id.indexOf('8') >= 0 ) { section = 'food'; }
    else if ( section_id.indexOf('9') >= 0 ) { section = 'ask-amy'; }
}
if ( len > 10 ) {
    grafs.splice(4, 0, '[dfm_iframe src=\'http://extras.denverpost.com/app/in-article-promo/' + section + '-' + item + '.html\' width=\'100%\' height=\'100px\']');
    item = promos.pop();
    if ( len > 16 ) {
        grafs.splice(Math.floor(len/2) + 1, 0, '[dfm_iframe src=\'http://extras.denverpost.com/app/in-article-promo/' + section + '-' + item + '.html\' width=\'100%\' height=\'100px\']');
        item = promos.pop();
    }
}
if ( typeof item !== 'undefined' && grafs[grafs.length-1].indexOf('in-article') === -1 ) {
    grafs.splice(len, 0, '[dfm_iframe src=\'http://extras.denverpost.com/app/in-article-promo/' + section + '-' + item + '.html\' width=\'100%\' height=\'100px\']');
}
jQuery('#content').text(grafs.join('\n\n'));
*/
</script>

<h2 id="preps">Preps Sidebar Bookmarklet</h2>
<p>
Drag this link to your browser's bookmakers bar and click it when you're editing an article to automatically the preps sidebar after the third graf of the story.
</p>
<p><strong>NOTE:</strong> This must be clicked before you make any other edits to an article.</p>
<!--
<a href="javascript:void((function(){      })());">PREPS SIDEBAR</a>
-->
<a href="javascript:void((function(){   var content = jQuery('#content'); var grafs = content.text().split('\n\n'); var markup = '<aside class=\'related right\'> <h2 class=\'widget-title\'><a href=\'http://preps.denverpost.com/\'>Colorado Prep Stats</a></h2> [dfm_iframe src=\'http://preps.denverpost.com/sidebar.html\' width=\'300px\' height=\'250px\' scrolling=\'no\'] </aside>'; grafs.splice(3, 0, markup); jQuery('#content').text(grafs.join('\n\n'));   })());">PREPS SIDEBAR</a>
<script>
/*
var content = jQuery('#content');
var grafs = content.text().split('\n\n');
var markup = '<aside class=\'related right\'> <h2 class=\'widget-title\'><a href=\'http://preps.denverpost.com/\'>Colorado Prep Stats</a></h2> [dfm_iframe src=\'http://preps.denverpost.com/sidebar.html\' width=\'300px\' height=\'250px\' scrolling=\'no\'] </aside>';
grafs.splice(3, 0, markup);
jQuery('#content').text(grafs.join('\n\n'));
*/
</script>
<!--
<h2>DPTV Bookmarklet</h2>
<p>
Drag this link up to your bookmarks bar to make creating DPTV freeforms easier. Note: These are autoplay FF's. Note: This bookmarklet also works on the Sports Show.
</p>
<p>
<a href="javascript:void((function(){ jQuery('body').prepend('<pre>&amp;lt;iframe width=\'654\' height=\'470\' src=\'' + window.location.href + '?iframe=1&autoplay=1\' frameborder=\'0\' allowfullscreen scrolling=\'no\' seamless&amp;gt;&amp;lt;\/iframe&amp;gt;</pre>'); })());">[ DPTV-to-FF ]</a>
</p>
<p>Click the button when you're on a page you want to create a FF for, it will create markup that looks something like this:</p>
<pre> 
&lt;iframe width='654' height='470' src='http://dptv.denverpost.com/2015/11/17/law-enforcement-from-across-the-state-gather-in-solidarity/?iframe=1&autoplay=1' frameborder='0' allowfullscreen scrolling='no' seamless></iframe>
</pre>
<h2>Media Center Bookmarklet</h2>
<p>
This bookmarklet automates the javascript you need to create a Media Center freeform.
</p>
<a href="javascript:void((function(){ jQuery('header').remove(); jQuery('body').prepend('<pre>&amp;lt;link rel=\'stylesheet\' href=\'http://extras.mnginteractive.com/live/partners/MediaCenter/embedded_galleries/mc_embed_styles.css\' type=\'text/css\' /&amp;gt;\n\&amp;lt;script src=\'http://extras.mnginteractive.com/live/partners/MediaCenter/embedded_galleries/mc_embed.js\'&amp;gt;&amp;lt;/script&amp;gt;\n\&amp;lt;div id=\'mc-embed-container\'&amp;gt;&amp;lt;\/div&amp;gt;\n\&amp;lt;div class=\'clear\' style=\'margin-bottom:10px;\'&amp;gt;&amp;lt;\/div&amp;gt;\n\&amp;lt;script&amp;gt;\n\$(document).ready(function(){\n\mc_embed_gallery = new MCGallery({\n\ url : \'' + window.location.origin + window.location.pathname +'\',\n\captionHeight : \'85px\',\n\parentContainer: \'mc-embed-container\'\n\});\n\});\n\&amp;lt;\/script&amp;gt;</pre>'); })());">[ MC-to-FF ]</a>
<p>It creates markup that looks like this:</p>
<pre>
&lt;link rel="stylesheet" href="http://extras.mnginteractive.com/live/partners/MediaCenter/embedded_galleries/mc_embed_styles.css" type="text/css" />
&lt;script src="http://extras.mnginteractive.com/live/partners/MediaCenter/embedded_galleries/mc_embed.js">&lt;/script>
&lt;div id="mc-embed-container">&lt;/div>
&lt;div class="clear" style="margin-bottom:10px;">&lt;/div>
&lt;script>
$(document).ready(function(){
mc_embed_gallery = new MCGallery({
url : 'http://photos.denverpost.com/2015/12/07/planned-parenthood-shooting-suspect-off-grid-home/',
captionHeight : '85px',
parentContainer: 'mc-embed-container'
});
});
&lt;/script>
</pre>
-->


</section>
</body>
</html>
