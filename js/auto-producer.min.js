!function(){function e(e){return document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML}function t(e){return e<10&&e>=0?"&nbsp;&nbsp;"+e:e}function n(e){return e<10&&e>=0?"0"+e:e}function r(e,t){return Object.keys(e).find(function(n){return e[n]===t})}function a(){var e=new Date,t=e.getSeconds()+60*e.getMinutes();return t}function o(e,t){var n,r=[];for(n in e)if(e.hasOwnProperty(n)){var i=t?t+"["+n+"]":n,a=e[n];r.push(null!==a&&"object"==typeof a?o(a,i):encodeURIComponent(i)+"="+encodeURIComponent(a))}return r.join("&")}function s(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}function c(e){return e.toLowerCase().replace(/[^\w\ ]+/g,"").replace(/ +/g,"-")}function d(n){function d(){var e=[];return jQuery("#categorychecklist input:checked").each(function(){e.push(jQuery(this).attr("value"))}),e}function l(){var e=[];return jQuery("#categorychecklist input:checked").each(function(){var t=jQuery(this).parent().clone().children().remove().end().text();e.push(t.trim())}),e}function u(){var e=[];return jQuery("#tagsdiv-post_tag .tagchecklist > span").each(function(){var t=jQuery(this).clone().children().remove().end().text();e.push(t.trim())}),e}function p(){var e=[];return jQuery("#tagsdiv-feature .tagchecklist > span").each(function(){var t=jQuery(this).clone().children().remove().end().text();t.match(/Outstream/)&&e.push(t.trim())}),e}function h(){var e=[];return jQuery("#apple-news-publish div.section input:checked").each(function(){var t=r(L,jQuery(this).attr("id"));"undefined"!=typeof t&&e.push(t)}),e}function g(){var e={},t=null;e:for(;;){if(t=prompt("What should we call this option?\n\n",""),""!==t&&null!==t)break e;alert("You have to enter name, dude.")}var n=confirm("Should Related by Primary Tag be added to stories automatically?");e.title=t,e["check-sections"]=d(),e["add-tags"]=u(),e["primary-section"]=document.getElementById(I).value,e["primary-tag"]=document.getElementById(H).value,e.features=p(),e["apple-news"]=h(),e.related=n;var r="#"+H+' option[value="'+e["primary-tag"]+'"]';e["help-primary-tag"]=" "==jQuery(r).text()?"":jQuery(r).text(),e["help-sections"]=l();var i="#"+I+' option[value="'+e["primary-section"]+'"]';if(e["help-primary-section"]=" "==jQuery(i).text()?"":jQuery(i).text(),""!==t&&null!==t){if(confirm("You're about to submit a new option called "+t+". Are you sure?")){var a=document.createElement("img");a.style.cssText="display:none;",a.src="http://www.denverpostplus.com/app/autoproducer/ap-new.php?"+o(e)}}else alert("Sorry, something went wrong. Try again. \n\n\nOh, and next time -- don't do whatever you did that broke it this time.")}function f(e){for(var t=0,n=e.length;t<n;t++)document.getElementById("in-category-"+e[t]).checked=!0}function y(e){for(var t=0,n=e.length;t<n;t++)document.getElementById(L[e[t]]).checked=!0}function v(e,t){"undefined"!=typeof e&&""!==e&&""===document.getElementById(I).value&&(document.getElementById(I).value=e),"undefined"!=typeof t&&""!==t&&""===document.getElementById(H).value&&(document.getElementById(H).value=t)}function b(e){for(var t=0,n=e.length;t<n;t++)document.getElementById("new-tag-post_tag").value=e[t],jQuery("#post_tag .ajaxtag input.button.tagadd").click()}function w(e){for(var t=0,n=e.length;t<n;t++)document.getElementById("new-tag-feature").value=e[t],jQuery("#feature .ajaxtag input.button.tagadd").click()}function x(){jQuery("#coauthors_hidden_input").remove(),jQuery(".suggest.coauthor-row:first-child").append('<input id="coauthors_hidden_input" name="coauthors[]" value="the-associated-press" type="hidden">')}function k(){jQuery("#coauthors_hidden_input").remove(),jQuery(".suggest.coauthor-row:first-child").append('<input id="coauthors_hidden_input" name="coauthors[]" value="the-washington-post" type="hidden">')}function j(){document.getElementById("following_usergroups12195").checked=!0}function _(e){tagsHTML="<script>",tagsHTML+="function slugItUp(inText) {",tagsHTML+="return inText.toLowerCase().replace(/[^\\w ]+/g,'').replace(/ +/g,'-');",tagsHTML+="}",tagsHTML+="function addSuggestedTag(newSuggestedTag) {",tagsHTML+="document.getElementById('new-tag-post_tag').value = newSuggestedTag;",tagsHTML+="jQuery('#post_tag .ajaxtag input.button.tagadd').click();",tagsHTML+="var delTag = '#tagSuggest_' + slugItUp(newSuggestedTag);",tagsHTML+="jQuery(delTag).remove();",tagsHTML+="}",tagsHTML+="function closeSuggestedTags() {",tagsHTML+="jQuery('#autoProducerSuggestedTags').remove();",tagsHTML+="}",tagsHTML+="jQuery('body, html').animate({ scrollTop: jQuery('#autoProducerSuggestedTags').offset().top - 70 }, 'fast');",tagsHTML+="</script>",tagsHTML+='<div style="width:88%;padding:.5em 1em;border:1px solid DarkRed;font-size:1em;color:DarkRed;" id="autoProducerSuggestedTags">',tagsHTML+='<p style="color:black;font-size:1.1em;">I have some suggested tags for you -- click to add them!</p>',tagsHTML+='<ul style="list-style-type:none;text-indent:none;font-size:1.2em;">';for(var t=0,n=e.length;t<n;t++){var r=c(e[t]);tagsHTML+='<li id="tagSuggest_'+r+'" onClick="javascript:addSuggestedTag(\''+e[t]+'\')" style="cursor:pointer;margin:0 0 .25em;padding:0;">+ '+e[t]+"</li>"}tagsHTML+="</ul>",tagsHTML+='<p style="color:black;margin-top:1em;font-size:1.1em;text-align:right;cursor:pointer;" onClick="javascript:closeSuggestedTags();"><strong>Close</strong></p>',tagsHTML+="</div>",jQuery("#tagsdiv-post_tag .inside").prepend(tagsHTML)}function O(e,t){var n=[];n.wire=!0,"undefined"!=typeof t.WaPoauthorSelect&&t.WaPoauthorSelect===!0&&k(),"undefined"!=typeof t.APauthorSelect&&t.APauthorSelect===!0&&x(),("undefined"!=typeof e.related&&e.related===!0||t.selectRelated===!0)&&(n.related=!0),"undefined"!=typeof e["check-sections"]&&e["check-sections"].indexOf("94")>-1&&j(),"undefined"!=typeof e.title&&"Weather Story"==e.title&&(n.wx=!0),"undefined"!=typeof e.title&&"Recipes"==e.title&&(n["rel-section"]=!0),"undefined"==typeof e.title||"Crime Story"!=e.title||t.homicideSelect||(n.crime=!0),t.homicideSelect&&(n.homicide=!0),t.informSelect&&(n.inform=!0),t.newsletterSelect&&(n.newsletter=!0),t.promoSelect&&(n.promos=!0),"YourHub Crime Blotter"==e.title&&(n["related-override"]=!0,document.getElementById("fm-mason_post_settings-0-schema-0-featured_image_settings-0").value="hide"),"undefined"!=typeof e["check-sections"]&&f(e["check-sections"]),"undefined"!=typeof e["add-tags"]&&b(e["add-tags"]),"undefined"!=typeof e.features&&w(e.features),"undefined"==typeof e["primary-section"]&&"undefined"==typeof e["primary-tag"]||v(e["primary-section"],e["primary-tag"]),"undefined"!=typeof e["apple-news"]&&y(e["apple-news"]);var r=C(n);_(r)}function C(e){String.prototype.capitalizeFirstLetters=function(){var e=this.replace(/,(?=[^\s])/g,", ").split(/[\s]+/),t=[];for(i=0,len=e.length;i<len;i++)"and"==e[i].toLowerCase()?t.push(e[i].toLowerCase()):t.push(e[i].charAt(0).toUpperCase()+e[i].slice(1).toLowerCase());return t=t.join(" "),t.match(/,\s*$/)&&(t=t.replace(/,\s*$/,"")),t};var t=document.getElementById("excerpt").textContent,n=!1,r=document.getElementById("content"),a=autoProducerTagList.length,o=[],c=r.textContent.toLowerCase();for(console.log(a);a--;)a>=0&&c.indexOf(autoProducerTagList[a].toLowerCase())!=-1&&(console.log(autoProducerTagList[a]),o.push(autoProducerTagList[a]));var d=/\n\n|<\/p><p>|<\/p>\n<p>|[\s]{2,5}<p>|<p>|<\/p> <p>|<\/p> <p \/> <p>/,l=r.textContent.split(d);n=s(l[0].toLowerCase().startsWith("by")||l[0].toLowerCase().startsWith("[caption")?l[1].toLowerCase().startsWith("by")||l[1].toLowerCase().startsWith("[caption")?l[2].replace(/\[.+\]/g,""):l[1].replace(/\[.+\]/g,""):l[0].replace(/\[.+\]/g,""));var u=[];for(i=0,len=l.length;i<len;i++)null===l[i].match(/<p \/>/)&&l[i].length>0&&!(l[i].match(/&nbsp;/)&&l[i].length<7)&&u.push(l[i].replace("</p>","").replace("(AP) —","--").replace("&#8212;"," "));if(e.wire){if(u[0].toLowerCase().startsWith("by")){var p=u[0],h="",m=document.getElementById("coauthors_hidden_input").value;if("by the associated press"==p.toLowerCase())h="APonly";else{console.log(p);var g=p.lastIndexOf(",");p.indexOf("(c)")>-1?h=p.split("(c)")[0].substr(0,g).capitalizeFirstLetters().replace("By ","").trim():"the-associated-press"!=m?(console.log(m),h=p.substr(0,g).capitalizeFirstLetters().replace("By ","")):h=p.capitalizeFirstLetters().replace("By ","")}"the-associated-press"==m?"APonly"==h?u.shift():u[0]="<strong>By "+h+"</strong>, <em>The Associated Press</em>":"the-washington-post"==m&&(u[0]="<strong>By "+h+"</strong>, <em>The Washington Post</em>")}t.length<10&&(t=n);var f=t.substring(0,t.indexOf("(AP) —")),y=t.replace(f,"").replace("(AP) —","").trim();document.getElementById("excerpt").value=y}if(e.related){var v=u.length-4<2?2:u.length-4;u.length>=6||e["related-override"]?u.splice(v,0,'[related_articles location="right" show_article_date="true" article_type="automatic-primary-tag"]'):e["rel-section"]&&u.splice(v,0,'[related_articles location="right" show_article_date="true" article_type="automatic-primary-section"]')}if(e.wx&&(u.splice(3,0,"[cq comment=\"ASIDE PLACED BELOW\"]\n<aside class='related alignright'> [dfm_iframe src='http://extras.denverpost.com/weather/widget-iframe.html' width='300px' height='590px'] </aside>[cq comment=\"ASIDE PLACED ABOVE\"]"),u.push('<a href="http://www.thedenverchannel.com/weather">Click here for more Denver7 weather coverage</a>.')),e.crime&&!e.wx){var b={neighborhoods:Array("Wellshire","CBD","University Hills","Overland","Speer","Gateway / Green Valley Ranch","Ruby Hill","Marston","North Capitol Hill","City Park","Indian Creek","Five Points","Sun Valley","Westwood","Cole","Washington Park West","Platt Park","Harvey Park South","Villa Park","Athmar Park","Skyland","North Park Hill","Sunnyside","Southmoor Park","Jefferson Park","Capitol Hill","Windsor","Barnum West","Virginia Village","Montbello","Bear Valley","Goldsmith","Stapleton","Chaffee Park","Cory-Merrill","Northeast Park Hill","Union Station","Washington Park","Barnum","Elyria-Swansea","Civic Center","Hampden South","Globeville","City Park West","Clayton","Cheesman Park","Country Club","Hale","Mar Lee","Lincoln Park","Berkeley","West Highland","Harvey Park","Regis","East Colfax","Whittier","Belcaro","Hampden","Fort Logan","College View / South Platte","West Colfax","Baker","Kennedy","Cherry Creek","DIA","Congress Park","South Park Hill","Rosedale","Valverde","Lowry Field","Washington Virginia Vale","Auraria","Hilltop","Highland","Montclair","University","University Park","Sloan Lake"),get_markup:function(){return"1"==this.type?'[cq comment="ASIDE PLACED BELOW"]\n<aside class="related right alignright">\n<h2 class="widget-title"><a href="http://crime.denverpost.com/">Denver Crime</a></h2>\n<p>See our <a href="http://crime.denverpost.com/neighborhood/'+this.slug+"/\">index of reported crimes in Denver's "+this.neighborhood+" neighborhood</a>.</p>\n<p><strong>Also,</strong> "+this.get_random_feature()+'.</p>\n</aside>[cq comment="ASIDE PLACED ABOVE"]':""===this.type?'[cq comment="ASIDE PLACED BELOW"]\n<aside class="related right alignright">\n<h2 class="widget-title"><a href="http://crime.denverpost.com/">Denver Crime</a></h2>\n<div style="width:100%;height: 150px;overflow:hidden"><a href="http://crime.denverpost.com/crime/'+this.slug+'/"><img src="'+this.get_random_image()+'" alt="Denver crime map" width="100%" style="width:100%;margin-top:-40px"></a></div>\n<p>See our <a href="http://crime.denverpost.com/crime/'+this.slug+'/">map, report and neighborhood rankings of '+this.crime+" in Denver</a>.</p>\n<p><strong>Also,</strong> "+this.get_random_feature()+'.</p>\n</aside>[cq comment="ASIDE PLACED ABOVE"]':void 0},image_list:["http://www.denverpost.com/wp-content/uploads/2017/01/denver-crime-map11.png","http://www.denverpost.com/wp-content/uploads/2017/01/denver-crime-map4.png","http://www.denverpost.com/wp-content/uploads/2017/01/denver-crime-map3.png","http://www.denverpost.com/wp-content/uploads/2017/01/denver-crime-map2.png","http://www.denverpost.com/wp-content/uploads/2016/10/denver-crime-map.png"],get_random_image:function(){var e=this.image_list.length,t=Math.floor(Math.random()*e);return this.image_list[t]},feature_list:[{"compare crime rates across Denver neighborhoods":"http://crime.denverpost.com/neighborhood/compare/"},{"see our Denver crime map":"http://crime.denverpost.com/map/"},{"see the Denver-city crime report":"http://crime.denverpost.com/city/"},{"see our list of neighborhood crime reports":"http://crime.denverpost.com/neighborhood/"}],get_random_feature:function(){var e=this.feature_list.length,t=Math.floor(Math.random()*e),n=this.feature_list[t],r=Object.keys(n)[0];return'<a href="'+n[r]+'">'+r+"</a>"},get_type:function(){return this.type=prompt("Enter 1 for a neighborhood crime promo or hit enter for a crime-specific promo"),this.type},get_neighborhood:function(e){e="undefined"==typeof e?"":e,this.neighborhood=prompt(e+"Type in the name of the neighborhood"),this.neighborhoods.indexOf(this.neighborhood)===-1&&(""===e?this.get_neighborhood("That's not a valid neighborhood\n"):this.get_neighborhood("This is a list of valid neighborhoods: "+this.neighborhoods.join(", "))),this.slug=this.slugify(this.neighborhood)},get_crime:function(){crime_id=prompt("Hit enter for Violent Crimes, type 1 for Assaults, 2 for Bank Robberies, 3 for Bike Thefts, 4 for Burglaries, 5 for Car Thefts, 6 for DUIs, 7 for hit and runs, 8 for Domestic Violence, 9 for Homicides, 10 for Property Crimes, 11 for Sexual Assault, 12 for Rape, 13 for Robberies, 14 for Drug & Alcohol, 15 for Larceny"),this.crime="violent crimes",this.slug="violent",crime_id.indexOf("10")>=0?(this.crime="property crimes",this.slug="property"):crime_id.indexOf("11")>=0?(this.crime="sexual assaults",this.slug="sexual-assault"):crime_id.indexOf("12")>=0?(this.crime="rapes",this.slug="sexual-assault/rape"):crime_id.indexOf("13")>=0?(this.crime="robberies",this.slug="robbery"):crime_id.indexOf("14")>=0?(this.crime="drug and alcohol crimes",this.slug="drug-alcohol"):crime_id.indexOf("15")>=0?(this.crime="larceny",this.slug="larceny"):crime_id.indexOf("16")>=0?(this.crime="",this.slug=""):crime_id.indexOf("17")>=0?(this.crime="",this.slug=""):crime_id.indexOf("18")>=0?(this.crime="",this.slug=""):crime_id.indexOf("19")>=0?(this.crime="",this.slug=""):crime_id.indexOf("20")>=0?(this.crime="",this.slug=""):crime_id.indexOf("1")>=0?(this.crime="assaults",this.slug="assault"):crime_id.indexOf("2")>=0?(this.crime="bank robberies",this.slug="robbery/robbery-bank"):crime_id.indexOf("3")>=0?(this.crime="bike thefts",this.slug="theft-bicycle"):crime_id.indexOf("4")>=0?(this.crime="burglaries",this.slug="burglary"):crime_id.indexOf("5")>=0?(this.crime="car thefts",this.slug="auto-theft"):crime_id.indexOf("6")>=0?(this.crime="DUIs",this.slug="traffic-accident-dui-duid"):crime_id.indexOf("7")>=0?(this.crime="hit-and-runs",this.slug="traffic-accident-hit-and-run"):crime_id.indexOf("8")>=0?(this.crime="domestic violence",this.slug="dv"):crime_id.indexOf("9")>=0&&(this.crime="homicides",this.slug="homicide")},init:function(){u.length>5&&(this.pos=u.length-3),"1"==this.get_type()?this.get_neighborhood():this.get_crime(),u.splice(this.pos,0,this.get_markup())},slugify:function(e){var t="àáäãâèéëêìíïîòóöôõùúüûñç·/_,:;",n="aaaaaeeeeiiiiooooouuuunc------",r=0,i=t.length;for(e=e.toLowerCase();r<i;r++)e=e.replace(new RegExp(t.charAt(r),"g"),n.charAt(r));return e.replace(/^\s+|\s+$/g,"").replace(/[^-a-zA-Z0-9\s]+/gi,"").replace(/\s/gi,"-")}};b.init()}if(e.inform){e:for(;;){var w=prompt("What is the Inform ID of the video you want to embed?\n\nNote: Embeds always appear at the top of a story, but can be moved with CTRL+X and CTRL+V\n\n","");if(8==w.length&&null!==w.match(/^[0-9]+$/))break e;alert("You must enter an 8-digit number.")}e:for(;;){var x=prompt('What is the Inform ID of the video you want to embed? (Hit ENTER for "News")\n\nHere are some of the most common playlist IDs:\n\nBusiness: 18444\nThe Cannabist: 18445\nDPTV - Up To Date: 18457\nNews: 18464 (default)\nNews - Guns: 18548\nPolitics: 18470\nPolitics - Elections: 18471\nSports: 18474\nSports - Broncos: 18477\n\n',"18464");if(5==x.length&&null!==x.match(/^[0-9]+$/))break e;alert("You must enter an 5-digit number.")}e:for(;;){var k=prompt('Should it Autoplay? (Hit ENTER for "NO")\n\nOptions:\n\nNo Autoplay: 0 (default)\nAutoplay: 1\nPlay on mouse-over: 3\nPlay when scrolled into view: 7\n',"0");if("0"===k||"1"===k||"7"===k||"3"===k)break e;alert("You must enter an 1-digit number.")}var j='[cq  comment="VIDEO PLACED BELOW"]\n<div class="ndn_embed" style="width:100%;" data-config-pb="0" data-config-widget-id="'+k+'" data-config-type="VideoPlayer/Single" data-config-tracking-group="90115" data-config-playlist-id="'+x+'" data-config-video-id="'+w+'" data-config-site-section="denverpost" data-config-width="100%" data-config-height="9/16w"></div> \n[cq  comment="VIDEO PLACED ABOVE"]';u.splice(0,0,j)}if(e.newsletter){var _={1:{which:"news",name:"Mile High Roundup"},2:{which:"sportsdaily",name:"Sports Daily newsletter"},3:{which:"bronxinsider",name:"Broncos Insider"},4:{which:"marijuana",name:"Cannabist Newsletter"},5:{which:"theknow",name:"entertainment, dining and things to do newsletter"},6:{which:"techplus",name:"Tech+ newsletter"}},O="Which newsletter do you want to plug? (Hit ENTER for the Roundup)\n\nOptions:\n\n";for(var C in _)_.hasOwnProperty(C)&&(O+="        ( "+C+" ) "+_[C].name+"\n");O+="\nEnter your selection:\n\n";e:for(;;){var S=prompt(O,"1");if("undefined"!==_[S].which)break e;alert("I'm afraid I can't do that, Dave.")}var j='<aside>\n[dfm_iframe src="http://extras.denverpost.com/app/mailer-rules/email-signup.html?which='+_[S].which+"&name="+encodeURIComponent(_[S].name)+'" width="100%" height="120px"]\n</aside>';u.push(j)}if(e.promos){var A=[1,2,3,4,5].sort(function(){return.5-Math.random()});A.pop(),A.pop();var P=A.pop();if(r.textContent.indexOf("in-article-promo")!==-1&&(A=[],P=void 0),"undefined"!=typeof P){var E=prompt("Select the type of news to insert:\n\n\nNews:\n(1) Soft news, (2) Hard news, (18) Business, (17) Real estate, (19) Tech, (20) Featured homes, (15) General Politics, (24) Trump Admin., (23) Colo. Leg.\n\nSports:\n(Enter) Sports, (3) Broncos, (4) Nuggets, (5) Rockies\n\nFeatures:\n(6) Entertainment, (7) Restaurants, (8) Food, (9) Ask Amy, (10) Books, (11) Movies, (12) Home & Garden, (16) Travel, (25) Lifestyle\n\nMisc:\n(13) YourHub, (14) Editorials, (21) Season to Share, (22) Stock Show, (420) Marijuana\n\n\nSelection:",""),T="sports";E.indexOf("420")>=0?(T="marijuana",P="map"):E.indexOf("10")>=0?T="books":E.indexOf("11")>=0?T="movies":E.indexOf("12")>=0?T="home-garden":E.indexOf("13")>=0?T="yourhub":E.indexOf("14")>=0?T="editorials":E.indexOf("15")>=0?T="politics":E.indexOf("16")>=0?T="travel":E.indexOf("17")>=0?T="real-estate":E.indexOf("18")>=0?T="business":E.indexOf("19")>=0?T="tech":E.indexOf("20")>=0?T="featured-homes":E.indexOf("21")>=0?T="season-to-share":E.indexOf("22")>=0?T="stock-show":E.indexOf("23")>=0?T="colorado-legislature":E.indexOf("24")>=0?T="trump-administration":E.indexOf("25")>=0?T="lifestyle":E.indexOf("1")>=0?T="dont-miss":E.indexOf("2")>=0?T="hard-news":E.indexOf("3")>=0?T="broncos":E.indexOf("4")>=0?T="nuggets":E.indexOf("5")>=0?T="rockies":E.indexOf("6")>=0?T="entertainment":E.indexOf("7")>=0?T="restaurants":E.indexOf("8")>=0?T="food":E.indexOf("9")>=0&&(T="ask-amy")}var Q=e.crime||e.wx?9:4,I=e.crime||e.wx?20:17;u.length>12&&(u.splice(Q,0,"[dfm_iframe src='https://extras.denverpost.com/app/in-article-promo/"+T+"-"+P+".html' width='100%' height='100px']"),P=A.pop(),u.length>I&&(u.splice(Math.floor(u.length/2)+1,0,"[dfm_iframe src='https://extras.denverpost.com/app/in-article-promo/"+T+"-"+P+".html' width='100%' height='100px' scrolling='no']"),P=A.pop())),"undefined"==typeof P||u[u.length-1].indexOf("in-article")!==-1||e.newsletter||u.splice(u.length,0,"[dfm_iframe src='https://extras.denverpost.com/app/in-article-promo/"+T+"-"+P+".html' width='100%' height='100px' scrolling='no']")}return!e.homicide||e.crime||e.wx||u.splice(3,0,"[cq comment=\"ASIDE PLACED BELOW\"]\n<aside class='related alignright'> <h2 class='widget-title'><a href='/denver-homicides/'>Homicide Report</a></h2>\n<div style=\"width:100%;height: 150px;overflow:hidden\"><a href='/denver-homicides/'><img src='http://www.denverpost.com/wp-content/uploads/2016/10/homicide-map-denver.png' alt='Denver Homicide Map' border='0'></a></div> <p>Follow this year's <a href='/denver-homicides/'>homicides in Denver</a>, and track the city's homicide rate. See also: <a href=\"http://crime.denverpost.com/map/\">Denver crime map</a>.</p> </aside>\n[cq comment=\"ASIDE PLACED ABOVE\"]"),document.getElementById("content").value=u.join("\n\n"),o}function S(){var e=document.createElement("script");e.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/cx-src.js?v="+a()),document.body.appendChild(e)}function A(){var e=document.createElement("script");e.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/weather-closures.js?v="+a()),document.body.appendChild(e)}function P(){jQuery("#auto-producer").keydown(function(e){if(13==e.keyCode)return jQuery("#btnOne").trigger("click"),!1}),jQuery(".tooltip-link").on("mouseenter",function(){var e=jQuery(this).data("tooltip");jQuery(".tipGraf").html(e).css("display","block")}).on("mouseleave",function(){jQuery(".tipGraf").html("").css("display","none")}),jQuery("#APoptionSelect").get(0).focus()}function E(n){var r='<div class="ap-options"><p>Welcome to The Denver Post AUTO🤖PRODUCER™ for Articles. Here\'s a list of helper functions I can perform for you:</p>';r+='<div class="one-quarter">',r+="<ul>";var i=Object.keys(n).length,a=Math.ceil(.33*i),o=Math.ceil(.66*i),s=0;for(var c in n){var d=n[c].related?' <span class="red-star">*</span>':" ",l="<p>Sets <strong>Primary Section</strong> to:<br />"+n[c]["help-primary-section"]+"</p>";l+="<p>Sets <strong>Primary Tag</strong> to:<br />"+n[c]["help-primary-tag"]+"</p>",l+="<p>Selects these <strong>Sections</strong>:<br />"+n[c]["help-sections"]+"</p>",l+="<p>Adds these <strong>Tags</strong>:<br />"+n[c]["add-tags"].join(", ")+"</p>",l+="<p>Adds <strong>Apple News</strong> sections:<br />"+n[c]["apple-news"]+"</p>",l+="<p>Adds these <strong>Features</strong>:<br />"+n[c].features.join(", ")+"</p>",n.hasOwnProperty(c)&&(r+="<li>( "+t(c)+" ) "+n[c].title+d+' <a class="tooltip-link" data-tooltip="'+e(l)+'" href="#" tabindex="0">(?)</a></li>'),s!=a&&s!=o||(r+='</ul></div><div class="one-quarter"><ul>'),s++}return r+="</ul>",r+="</div>",r+='<div class="one-quarter">',r+='<div class="tipGraf" style="display:none;"></div>',r+="</div>",r+='<div class="clear"></div>',r+='<div class="one-third">',r+='<p>Enter selection: <input type="text" id="APoptionSelect" tabindex="1"></p>',r+="</div>",r+='<div class="one-third">',r+='<p>Insert Related by Primary Tag? <span class="red-star">*</span> <input type="checkbox" id="relatedSelect" tabindex="2" /><br />',r+='Insert Inform video? <input type="checkbox" id="informSelect" tabindex="4" /><br />',r+='Change author to AP? <span class="blue-star">*</span> <input type="checkbox" id="APauthorSelect" tabindex="6" /><br />',r+='Insert Homicide Report? <span class="mag-star">*</span> <input type="checkbox" id="homicideSelect" tabindex="8" /></p>',r+="</div>",r+='<div class="one-third">',r+='<p>Insert in-article Promos? <input type="checkbox" id="promoSelect" tabindex="3" /><br />',r+='Insert Newsletter widget? <input type="checkbox" id="newsletterSelect" tabindex="5" /><br />',r+='Change author to WaPo? <span class="blue-star">*</span> <input type="checkbox" id="WaPoauthorSelect" tabindex="7" /></p>',r+="</div>",r+='<div class="clear"></div>',r+='<p class="red-small">Items with a star insert Related by Primary Tag automatically.<br />Related items will only be inserted on articles with 6 or more paragraphs.</p>',r+='<p class="blue-small">AP will override WaPo if both are checked; you WILL NOT see the new author until you save.</p>',r+='<p class="mag-small">Overrides the Crime Map if inserting with the "Crime Story" option.</p>',r+='<div class="ap-help"><a href="https://extras.denverpost.com/app/bookmarklet/ap-help.html" target="_blank">AUTO🤖PRODUCER™ Help</a></div></div>'}function T(){var e=[],t=jQuery("#APoptionSelect").val();if(e.selectRelated=jQuery("#relatedSelect").prop("checked"),e.APauthorSelect=jQuery("#APauthorSelect").prop("checked"),e.WaPoauthorSelect=jQuery("#WaPoauthorSelect").prop("checked"),e.promoSelect=!!jQuery("#promoSelect").prop("checked"),e.informSelect=!!jQuery("#informSelect").prop("checked"),e.newsletterSelect=!!jQuery("#newsletterSelect").prop("checked"),e.homicideSelect=!!jQuery("#homicideSelect").prop("checked"),B.indexOf(String(t))!==-1)jQuery("#auto-producer").html(Q),O(D[t],e),setTimeout(function(){jQuery("#auto-producer").dialog("close")},1250);else{var n=confirm("That's not a valid option. Try again, or Cancel to quit.");if(n!==!1)return!1;jQuery("#auto-producer").dialog("close")}}var Q='<div class="ap-success"><h3>I can do that!</h3><p>Here\'s a random GIF while you wait. Blame Giphy if it\'s ... bad.</p><p><img src="'+n+'" /></p><p><input name="readonly" value="'+n+'" readonly /></p></div>',I="fm-mason_post_settings-0-schema-0-primary_section-0",H="fm-mason_post_settings-0-schema-0-primary_tag-0",L={broncos:"apple-news-section-a39ee59b-d872-39ad-a323-b46261ea34ad","colorado-news":"apple-news-section-f7f303a0-da3b-3a93-8c2c-93be489a30a6",sports:"apple-news-section-3f7e6dbd-9845-39a3-ab67-14118fbd4a0e",politics:"apple-news-section-befc81a6-ec36-3426-9992-0ce17c5782f4",business:"apple-news-section-9c5c2844-09ca-3e86-8315-87224d14c790",entertainment:"apple-news-section-e401a8c2-26e7-3871-8ede-782e7e582af4",lifestyle:"apple-news-section-c81ed803-584d-3a4a-b125-09beb6cf0f8b",cannabist:"apple-news-section-aa2f2d08-860e-32b4-a1d3-765ea19a85d7",opinion:"apple-news-section-4c9d0650-2499-3637-b87f-f9355a2a3471"},D=autoProducerOptions,B=[];for(var R in D)D.hasOwnProperty(R)&&B.push(R);jQuery("#auto-producer").html(E(D)),jQuery("#auto-producer").dialog({autoOpen:!1,buttons:[{id:"btnCapture",text:"CAPTURE",click:function(){g()},tabindex:17},{id:"btnClosures",text:"+Closures",click:function(){A()},tabindex:16},{id:"btnCX",text:"+CX",click:function(){S()},tabindex:14},{id:"btnCancel",text:"CANCEL",click:function(){jQuery(this).dialog("close")},tabindex:11},{id:"btnOne",text:"AUTO🤖PRODUCE™!",click:function(){T()},tabindex:10}],title:"Denver Post AUTO🤖PRODUCER™"+m,resize:"auto",modal:!0,minWidth:940,position:{my:"center",at:"center",of:window,collision:"none"},create:function(e,t){jQuery(e.target).parent().css("position","fixed")},open:function(e,t){P()}}),jQuery("#auto-producer").dialog("open")}function l(e){function t(){jQuery("#auto-producer").keydown(function(e){if(13==e.keyCode)return jQuery("#btnOne").trigger("click"),!1}),jQuery("input[name=searchname]:checked").focus()}function n(e){var t='<div class="ap-options"><p>Welcome to The Denver Post AUTO🤖SEARCHER™ for CONTENT HUB. Here\'s what I can do for you:</p>';t+="<p>";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n].default?' tabindex="1"':' tabindex="-1"';t+='<input type="radio" name="searchname" value="'+e[n]["search-term"]+'" '+r+e[n].default+"> "+e[n].title+"<br />"}return t+="</p>",t+='<div class="clear"></div>',t+='<p>Add a search term? <input type="text" id="APoptionSelect" tabindex="2"></p>',t+='<div class="ap-help"><a href="https://extras.denverpost.com/app/bookmarklet/ap-help.html" target="_blank">AUTO🤖PRODUCER™ Help</a></div></div>'}function r(){var e=jQuery("#APoptionSelect").val(),t=jQuery("input[name=searchname]:checked").val(),n=""!==e?t+" "+e:t;jQuery("#hub_search-search-input").val(n),jQuery("#auto-producer").html(a);var r=setInterval(function(){jQuery("#waiting-gif").height()>10&&(clearInterval(r),jQuery("#search-submit").trigger("click"))},500)}var i={1:{title:"Daily Camera","search-term":"daily camera",default:" checked"},2:{title:"Longmont Times-Call","search-term":"times-call",default:!1},3:{title:"Loveland Reporter-Herald","search-term":"reporter-herald",default:!1},4:{title:"The Cannabist","search-term":"cannabist",default:!1},5:{title:"The Know","search-term":"the know",default:!1},6:{title:"San Jose Mercury News","search-term":"mercury news",default:!1},7:{title:"Fort Morgan Times","search-term":"fort morgan times",default:!1}},a="<div class=\"ap-success\"><h3>Waiting for freakin' Content Hub...</h3><p>Here's a random GIF while you wait. Blame Giphy if it's ... bad.</p><p><img src=\""+e+'" id="waiting-gif" /></p><p><input name="readonly" value="'+e+'" readonly /></p></div>';jQuery("#auto-producer").html(n(i)),jQuery("#auto-producer").dialog({autoOpen:!1,buttons:[{id:"btnCancel",text:"Cancel",click:function(){jQuery(this).dialog("close")},tabindex:4},{id:"btnOne",text:"AUTO🤖SEARCH™!",click:function(){r()},tabindex:3}],title:"Denver Post AUTO🤖SEARCHER™"+m,resize:"auto",modal:!0,minWidth:900,position:{my:"center",at:"center",of:window,collision:"none"},create:function(e,t){jQuery(e.target).parent().css("position","fixed")},open:function(e,n){t()}}),jQuery("#auto-producer").dialog("open")}function u(e){function t(){jQuery("#auto-producer").keydown(function(e){if(13==e.keyCode)return jQuery("#btnOne").trigger("click"),!1}),jQuery("input[name=searchname]:checked").focus()}function r(e){var t='<div class="ap-options"><p>Welcome to The Denver Post AUTO🤖SEARCHER™ for WIRE HUB. Here\'s what I can do for you:</p>';t+='<div class="one-half"><p><strong>Select a news source:</strong></p>';for(var n in e)if(e.hasOwnProperty(n)){var r=e[n].default?' tabindex="1"':' tabindex="-1"';t+='<input type="radio" name="searchname" value="'+e[n]["search-term"]+'" '+r+e[n].default+"> "+e[n].title+"<br />"}return t+="</div>",t+='<div class="one-half"><p><strong>Select a date range:</strong></p>',t+='<input type="radio" name="searchlength" value="0" tabindex="-1" /> No date range<br />',t+='<input type="radio" name="searchlength" value="1" tabindex="2" checked /> 1 day<br />',t+='<input type="radio" name="searchlength" value="2" tabindex="-1" /> 2 days<br />',t+='<input type="radio" name="searchlength" value="7" tabindex="-1" /> 7 days<br />',t+='<input type="radio" name="searchlength" value="30" tabindex="-1" /> 30 days<br />',t+="</div>",t+='<div class="clear"></div>',t+='<p>Add a search term? <input type="text" id="APoptionSelect" tabindex="3"></p>',t+='<div class="ap-help"><a href="https://extras.denverpost.com/app/bookmarklet/ap-help.html" target="_blank">AUTO🤖PRODUCER™ Help</a></div></div>'}function i(e){if(0!==e){var t=new Date,r=t-864e5*e,i=new Date(r);document.getElementById("dfm_hub_start_mm").value=n(i.getMonth()+1),document.getElementById("dfm_hub_start_dd").value=n(i.getDate()),document.getElementById("dfm_hub_start_yyyy").value=i.getFullYear(),document.getElementById("dfm_hub_end_mm").value=n(t.getMonth()+1),document.getElementById("dfm_hub_end_dd").value=n(t.getDate()+1),document.getElementById("dfm_hub_end_yyyy").value=t.getFullYear()}}function a(){var e=jQuery("input[name=searchlength]:checked").val(),t=jQuery("#APoptionSelect").val(),n=jQuery("input[name=searchname]:checked").val(),r=""!==t?n+t:n;i(e),jQuery("#hub_search-search-input").val(r),jQuery("#auto-producer").html(s);var a=setInterval(function(){jQuery("#waiting-gif").height()>10&&(clearInterval(a),jQuery("#search-submit").trigger("click"))},500)}var o={0:{title:"None","search-term":"",default:" checked"},1:{title:"Associated Press","search-term":"AP ",default:!1},2:{title:"Washington Post","search-term":"washington post ",default:!1},3:{title:"Bloomberg (experimental)","search-term":"bloomberg ",default:!1}},s="<div class=\"ap-success\"><h3>Waiting for freakin' Wire Hub...</h3><p>Here's a random GIF while you wait. Blame Giphy if it's ... bad.</p><p><img src=\""+e+'" id="waiting-gif" /></p><p><input name="readonly" value="'+e+'" readonly /></p>';jQuery("#auto-producer").html(r(o)),
jQuery("#auto-producer").dialog({autoOpen:!1,buttons:[{id:"btnCancel",text:"Cancel",click:function(){jQuery(this).dialog("close")},tabindex:5},{id:"btnOne",text:"AUTO🤖SEARCH™!",click:function(){a()},tabindex:4}],title:"Denver Post AUTO🤖SEARCHER™"+m,resize:"auto",modal:!0,minWidth:900,position:{my:"center",at:"center",of:window,collision:"none"},create:function(e,t){jQuery(e.target).parent().css("position","fixed")},open:function(e,n){t()}}),jQuery("#auto-producer").dialog("open")}function p(e){function t(){jQuery("#auto-producer").keydown(function(e){if(13==e.keyCode)return jQuery("#btnOne").trigger("click"),!1}),jQuery("input[name=searchlength]:checked").focus()}function r(e){var t='<div class="ap-options"><p>Welcome to The Denver Post AUTO🤖SEARCHER™ for ARTICLES. Here\'s what I can do for you:</p>';return t+='<div class="one-half"><p><strong>Select a date range:</strong></p>',t+='<input type="radio" name="searchlength" value="0" tabindex="-1" /> No date range<br />',t+='<input type="radio" name="searchlength" value="1" tabindex="2" checked /> 1 day<br />',t+='<input type="radio" name="searchlength" value="2" tabindex="-1" /> 2 days<br />',t+='<input type="radio" name="searchlength" value="7" tabindex="-1" /> 7 days<br />',t+='<input type="radio" name="searchlength" value="30" tabindex="-1" /> 30 days<br />',t+="</div>",t+='<div class="clear"></div>',t+='<p>Add a search term? <input type="text" id="APoptionSelect" tabindex="3"></p>',t+='<div class="ap-help"><a href="https://extras.denverpost.com/app/bookmarklet/ap-help.html" target="_blank">AUTO🤖PRODUCER™ Help</a></div></div>'}function i(e){var t=new Date,r=t-864e5*e,i=new Date(r);jQuery('select[name="dfm_start_mm"]').val(n(i.getMonth()+1)),jQuery('select[name="dfm_start_dd"]').val(n(i.getDate())),jQuery('select[name="dfm_start_yyyy"]').val(i.getFullYear()),jQuery('select[name="dfm_end_mm"]').val(n(t.getMonth()+1)),jQuery('select[name="dfm_end_dd"]').val(n(t.getDate())+1),jQuery('select[name="dfm_end_yyyy"]').val(t.getFullYear())}function a(){var e=jQuery("input[name=searchlength]:checked").val(),t=jQuery("#APoptionSelect").val();i(e),jQuery("#post-search-input").val(t),jQuery("#auto-producer").html(s);var n=setInterval(function(){jQuery("#waiting-gif").height()>10&&(clearInterval(n),jQuery("#post-query-submit").trigger("click"))},500)}var o={1:{title:"Associated Press","search-term":"associated press",default:" checked"}},s="<div class=\"ap-success\"><h3>Waiting for the freakin' Article Search...</strong></h3><p>Here's a random GIF while you wait. Blame Giphy if it's ... bad.</p><p ><img src=\""+e+'" id="waiting-gif" /></p><p><input name="readonly" value="'+e+'" readonly /></p>';jQuery("#auto-producer").html(r(o)),jQuery("#auto-producer").dialog({autoOpen:!1,buttons:[{id:"btnCancel",text:"Cancel",click:function(){jQuery(this).dialog("close")},tabindex:5},{id:"btnOne",text:"AUTO🤖SEARCH™!",click:function(){a()},tabindex:4}],title:"Denver Post AUTO🤖SEARCHER™"+m,resize:"auto",modal:!0,minWidth:900,position:{my:"center",at:"center",of:window,collision:"none"},create:function(e,t){jQuery(e.target).parent().css("position","fixed")},open:function(e,n){t()}}),jQuery("#auto-producer").dialog("open")}function h(e){g.indexOf("edit.php")>-1?p(e):g.indexOf("content_hub_view")>-1?l(e):g.indexOf("wire_hub_view")>-1?u(e):d(e)}var m=" v1.0.1",g=window.location.href;if(document.body.classList.contains("modal-open")||g.indexOf("upload.php")>-1){var f=document.createElement("script");f.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/photo-cleanup.min.js?v="+a()),document.body.appendChild(f)}else{if(!document.body.contains(document.getElementById("auto-producer"))){var y=window.document.createElement("link");y.setAttribute("rel","stylesheet"),y.setAttribute("href","https://extras.denverpost.com/app/bookmarklet/auto-producer.min.css?v="+a()),window.document.body.appendChild(y);var v=window.document.createElement("script");v.setAttribute("src","https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"),window.document.body.appendChild(v);var b=window.document.createElement("script");b.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/ap-taglist.min.js?v="+a()),window.document.body.appendChild(b);var w=window.document.createElement("script");w.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/ap-options.min.js?v="+a()),window.document.body.appendChild(w);var x=window.document.createElement("div");x.setAttribute("id","auto-producer"),window.document.body.appendChild(x)}var k=setInterval(function(){"undefined"==typeof autoProducerTagList&&clearInterval(k)},20),j=setInterval(function(){"undefined"==typeof autoProducerOptions&&clearInterval(j)},20),_=setInterval(function(){if("undefined"!=typeof jQuery.ui.dialog){clearInterval(_);var e="";jQuery.ajax({url:"https://api.giphy.com/v1/gifs/random?api_key=dc6zaTOxFJmzC",type:"GET",success:function(t){e=t.data.image_url,e=e.replace("http:","https:")}});var t=setInterval(function(){"undefined"!=typeof e&&e.indexOf("giphy.gif")>-1&&(clearInterval(t),h(e))},10)}},50)}}();