!function(){function e(e){return document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML}function t(e){return e<10&&e>=0?"&nbsp;&nbsp;"+e:e}function a(e){return e<10&&e>=0?"0"+e:e}function i(e,t){return Object.keys(e).find(function(a){return e[a]===t})}function n(a){function n(){var e=[];return jQuery("#categorychecklist input:checked").each(function(){e.push(jQuery(this).attr("value"))}),e}function r(){var e=[];return jQuery("#categorychecklist input:checked").each(function(){var t=jQuery(this).parent().clone().children().remove().end().text();e.push(t.trim())}),e}function o(){var e=[];return jQuery("#tagsdiv-post_tag .tagchecklist > span").each(function(){var t=jQuery(this).clone().children().remove().end().text();e.push(t.trim())}),e}function s(){var e=[];return jQuery("#apple-news-publish div.section input:checked").each(function(){var t=i(T,jQuery(this).attr("id"));"undefined"!=typeof t&&e.push(t)}),e}function c(){var e={},t=prompt("What should we call this option?\n\n",""),a=confirm("Should Related by Primary Tag be added to stories automatically?");e.title=t,e["check-sections"]=n(),e["add-tags"]=o(),e["primary-section"]=document.getElementById(P).value,e["primary-tag"]=document.getElementById(_).value,e["apple-news"]=s(),e.related=a;var i="#"+_+' option[value="'+e["primary-tag"]+'"]';e["help-primary-tag"]=jQuery(i).text(),e["help-sections"]=r();var c="#"+P+' option[value="'+e["primary-section"]+'"]';e["help-primary-section"]=jQuery(c).text();var l=document.createElement("img");l.style.cssText="display:none;",l.src="http://www.denverpostplus.com/app/autoproducer/ap-new.php?"+serialize(e)}function d(e){for(var t=0,a=e.length;t<a;t++)document.getElementById("in-category-"+e[t]).checked=!0}function p(e){for(var t=0,a=e.length;t<a;t++)document.getElementById(T[e[t]]).checked=!0}function u(e,t){"undefined"!=typeof e&&""!=e&&""==document.getElementById(P).value&&(document.getElementById(P).value=e),"undefined"!=typeof t&&""!=t&&""==document.getElementById(_).value&&(document.getElementById(_).value=t)}function m(e){for(var t=0,a=e.length;t<a;t++){document.getElementById("new-tag-post_tag").value=e[t];jQuery("#post_tag .ajaxtag input.button.tagadd").click()}}function h(){jQuery("#coauthors_hidden_input").remove(),jQuery(".suggest.coauthor-row:first-child").append('<input id="coauthors_hidden_input" name="coauthors[]" value="the-associated-press" type="hidden">')}function y(){jQuery("#coauthors_hidden_input").remove(),jQuery(".suggest.coauthor-row:first-child").append('<input id="coauthors_hidden_input" name="coauthors[]" value="the-washington-post" type="hidden">')}function f(e,t){"undefined"!=typeof t.WaPoauthorSelect&&1==t.WaPoauthorSelect&&y(),"undefined"!=typeof t.APauthorSelect&&1==t.APauthorSelect&&h(),("undefined"!=typeof e.related&&1==e.related||1==t.selectRelated)&&g(),"Weather Story"==e.title&&b(),"Crime Story"!=e.title||t.homicideSelect||k(),t.informSelect&&v(),t.promoSelect&&Q(),"undefined"!=typeof e["check-sections"]&&d(e["check-sections"]),"undefined"!=typeof e["add-tags"]&&m(e["add-tags"]),"undefined"==typeof e["primary-section"]&&"undefined"==typeof e["primary-tag"]||u(e["primary-section"],e["primary-tag"]),"undefined"!=typeof e["apple-news"]&&p(e["apple-news"])}function g(){var e=new Date,t=e.getSeconds()+60*e.getMinutes(),a=document.createElement("script");a.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/related-tag.min.js?v="+t),document.body.appendChild(a)}function b(){var e=new Date,t=e.getSeconds()+60*e.getMinutes(),a=document.createElement("script");a.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/weather.js?v="+t),document.body.appendChild(a)}function v(){var e=new Date,t=e.getSeconds()+60*e.getMinutes(),a=document.createElement("script");a.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/vid_embed-src.js?v="+t),document.body.appendChild(a)}function w(){var e=new Date,t=e.getSeconds()+60*e.getMinutes(),a=document.createElement("script");a.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/cx-src.js?v="+t),document.body.appendChild(a)}function k(){var e=new Date,t=e.getSeconds()+60*e.getMinutes(),a=document.createElement("script");a.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/crime.js?v="+t),document.body.appendChild(a)}function j(){var e=new Date,t=e.getSeconds()+60*e.getMinutes(),a=document.createElement("script");a.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/homicidereport.js?v="+t),document.body.appendChild(a)}function x(){var e=new Date,t=e.getSeconds()+60*e.getMinutes(),a=document.createElement("script");a.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/weather-closures.js?v="+t),document.body.appendChild(a)}function Q(){var e=new Date,t=e.getSeconds()+60*e.getMinutes(),a=document.createElement("script");a.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/inarticlepromo-src.js?v="+t),document.body.appendChild(a)}function C(){jQuery("#auto-producer").keydown(function(e){if(13==e.keyCode)return jQuery("#btnOne").trigger("click"),!1}),jQuery(".tooltip-link").on("mouseenter",function(){var e=jQuery(this).data("tooltip");jQuery(".tipGraf").html(e).css("display","block")}).on("mouseleave",function(){jQuery(".tipGraf").html("").css("display","none")}),jQuery("#APoptionSelect").get(0).focus()}function A(a){var i='<p style="margin-bottom:0;">Welcome to The Denver Post AUTOðŸ¤–PRODUCERâ„¢ for Articles. Here\'s a list of helper functions I can perform for you:</p>';i+='<div style="width:33%;float:left;display:inline-block;">',i+="<ul>";var n=0,r=!0;for(var o in a){var s=a[o].related?' <span style="color:darkred;font-weight:bold;">*</span>':" ",c="<p>Sets <strong>Primary Section</strong> to:<br />"+a[o]["help-primary-section"]+"</p>";c+="<p>Sets <strong>Primary Tag</strong> to:<br />"+a[o]["help-primary-tag"]+"</p>",c+="<p>Selects these <strong>Sections</strong>:<br />"+a[o]["help-sections"]+"</p>",c+="<p>Adds these <strong>Tags</strong>:<br />"+a[o]["add-tags"].join(", ")+"</p>",c+="<p>Adds <strong>Apple News</strong> sections:<br />"+a[o]["apple-news"]+"</p>",a.hasOwnProperty(o)&&(i+="<li>( "+t(o)+" ) "+a[o].title+s+' <a class="tooltip-link" data-tooltip="'+e(c)+'" href="#" tabindex="0">(?)</a></li>'),n>N/2&&n>10&&1==r&&(i+='</ul></div><div style="width:33%;float:left;display:inline-block;"><ul>',r=!1),n++}return i+="</ul>",i+="</div>",i+='<div style="width:33%;float:left;display:inline-block;">',i+='<div class="tipGraf" style="display:none;"></div>',i+="</div>",i+='<div style="width:100%;height:0;display:block;clear:both;"></div>',i+='<div style="width:33%;float:left;display:inline-block;">',i+='<p>Enter selection: <input type="text" id="APoptionSelect" tabindex="1"></p>',i+="</div>",i+='<div style="width:33%;float:left;display:inline-block;">',i+='<p>Insert Related by Primary Tag?<span style="color:darkred;font-weight:bold;">*</span> <input type="checkbox" id="relatedSelect" tabindex="2" /><br />',i+='Change author to AP?<span style="color:darkblue;font-weight:bold;">*</span> <input type="checkbox" id="APauthorSelect" tabindex="3" /><br />',i+='Change author to WaPo?<span style="color:darkblue;font-weight:bold;">*</span> <input type="checkbox" id="WaPoauthorSelect" tabindex="4" /></p>',i+="</div>",i+='<div style="width:33%;float:left;display:inline-block;">',i+='<p>Insert in-article Promos? <input type="checkbox" id="promoSelect" tabindex="2" /><br />',i+='Insert Inform video? <input type="checkbox" id="informSelect" tabindex="3" /><br />',i+='Insert Homicide Report?<span style="color:magenta;font-weight:bold;">*</span> <input type="checkbox" id="homicideSelect" tabindex="4" /></p>',i+="</div>",i+='<div style="width:100%;height:0;display:block;clear:both;"></div>',i+='<p style="font-size:85%;color:darkred;margin-bottom:0;">Items with a star insert Related by Primary Tag automatically.<br />Related items will only be inserted on articles with 6 or more paragraphs.</p>',i+='<p style="font-size:85%;color:darkblue;margin-bottom:0;">AP will override WaPo if both are checked; you WILL NOT see the new author until you save.</p>',i+='<p style="font-size:85%;color:magenta;margin-bottom:0;">Overrides the Crime Map if inserting with the "Crime Story" option.</p>',i+='<div style="text-align:right;font-size:85%;margin-bottom:0;"><a href="https://extras.denverpost.com/app/bookmarklet/ap-help.html" target="_blank">AUTOðŸ¤–PRODUCERâ„¢ Help</a></div>'}function S(){var e=[],t=jQuery("#APoptionSelect").val();if(e.selectRelated=jQuery("#relatedSelect").prop("checked"),e.APauthorSelect=jQuery("#APauthorSelect").prop("checked"),e.WaPoauthorSelect=jQuery("#WaPoauthorSelect").prop("checked"),e.promoSelect=!!jQuery("#promoSelect").prop("checked"),e.informSelect=!!jQuery("#informSelect").prop("checked"),e.homicideSelect=!!jQuery("#homicideSelect").prop("checked"),I.indexOf(t)!=-1)jQuery("#auto-producer").html(E),f(O[t],e),setTimeout(function(){jQuery("#auto-producer").dialog("close")},1250);else{var a=confirm("That's not a valid option. Try again, or Cancel to quit.");if(0!=a)return!1;jQuery("#auto-producer").dialog("close")}}var E='<div class="ap-success"><h3>I can do that!</h3><p>Here\'s a random GIF while you wait...blame Giphy if it\'s ... bad.</p><p><img src="'+a+'" /></p><p><input name="readonly" value="'+a+'" readonly /></p></div>',P="fm-mason_post_settings-0-schema-0-primary_section-0",_="fm-mason_post_settings-0-schema-0-primary_tag-0",T={broncos:"apple-news-section-a39ee59b-d872-39ad-a323-b46261ea34ad","colorado-news":"apple-news-section-f7f303a0-da3b-3a93-8c2c-93be489a30a6",sports:"apple-news-section-3f7e6dbd-9845-39a3-ab67-14118fbd4a0e",politics:"apple-news-section-befc81a6-ec36-3426-9992-0ce17c5782f4",business:"apple-news-section-9c5c2844-09ca-3e86-8315-87224d14c790",entertainment:"apple-news-section-e401a8c2-26e7-3871-8ede-782e7e582af4",lifestyle:"apple-news-section-c81ed803-584d-3a4a-b125-09beb6cf0f8b",cannabist:"apple-news-section-aa2f2d08-860e-32b4-a1d3-765ea19a85d7",opinion:"apple-news-section-4c9d0650-2499-3637-b87f-f9355a2a3471"},O={0:{title:"Do Nothing","add-tags":[],"help-sections":"Does not add sections or tags!",related:!1},1:{title:"Trump Story","check-sections":["48","11580","75","81","39","59"],"add-tags":["Donald Trump"],"primary-section":"11580","primary-tag":"1276","apple-news":["politics"],related:!0,"help-primary-tag":"Donald Trump","help-sections":"Latest News, News, Nation and World News, Politics, National Politics, Trump Administration","help-primary-section":"Trump Administration"},10:{title:"Nation / World Story","check-sections":["48","39","59"],"add-tags":[],"primary-section":"59","primary-tag":"","apple-news":[],related:!1,"help-primary-tag":"","help-sections":"Latest News, News, Nation and World News","help-primary-section":"Nation and World News"},20:{title:"Colorado News","check-sections":["48","39","47"],"add-tags":[],"primary-section":"47","primary-tag":"","apple-news":["colorado-news"],related:!0,"help-primary-tag":"","help-sections":"Latest News, News, Colorado News,","help-primary-section":"Colorado News"},21:{title:"Colorado Wildfires","check-sections":["48","39","47","65"],"add-tags":["wildfires","Colorado wildfires 2017"],"primary-section":"65","primary-tag":"11673","apple-news":["colorado-news"],related:!0,"help-primary-tag":"Colorado wildfires 2017","help-sections":"Latest News, News, Colorado News, Colorado Wildfires","help-primary-section":"Colorado Wildfires"},22:{title:"Crime Story","check-sections":["48","40","47","39"],"add-tags":[],"primary-section":"40","primary-tag":"","apple-news":["colorado-news"],related:!1,"help-primary-tag":"","help-sections":"Latest News, News, Colorado News, Crime &amp; Courts","help-primary-section":"Crime &amp; Courts"},23:{title:"Weather Story","check-sections":["48","64","47","39"],"add-tags":[],"primary-section":"64","primary-tag":"","apple-news":["colorado-news"],related:!0,"help-primary-tag":"","help-sections":"Latest News, News, Colorado News, Weather","help-primary-section":"Weather"},31:{title:"Colorado Legislature","check-sections":["48","39","47","79","80","75"],"add-tags":[],"primary-section":"79","primary-tag":"","apple-news":["politics"],related:!1,"help-primary-tag":"","help-sections":"Latest News, News, Colorado News, Politics, Local Politics, Colorado Legislature","help-primary-section":"Colorado Legislature"},40:{title:"Business Story","check-sections":["48","15"],"add-tags":["More Business News"],"primary-section":"15","primary-tag":"7864","apple-news":["business"],related:!1,"help-primary-tag":"More Business News","help-sections":"Latest News, Business","help-primary-section":"Business"},41:{title:"Technology Story","check-sections":["48","15","27"],"add-tags":["More Business News"],"primary-section":"27","primary-tag":"7864","apple-news":["business"],related:!1,"help-primary-tag":"More Business News","help-sections":"Latest News, Business, Technology","help-primary-section":"Technology"},51:{title:"Ask Amy","check-sections":["48","85","83","84","6710","9101"],"add-tags":["advice","Ask Amy","relationship advice"],"primary-section":"85","primary-tag":"7819","apple-news":["lifestyle"],related:!0,"help-primary-tag":"Ask Amy, advice, relationship advice","help-sections":"Latest News, Ask Amy, Lifestyle, Entertainment / Lifestyle, Family, Lifestyle Columnists","help-primary-section":"Ask Amy"},52:{title:"Movie Review","check-sections":["48","33","30","9101"],"add-tags":["movie reviews"],"primary-section":"33","primary-tag":"4289","apple-news":["entertainment"],related:!1,"help-primary-tag":"movie reviews","help-sections":"Latest News, Movies, Entertainment, Entertainment / Lifestyle","help-primary-section":"Movies"},53:{title:"Restaurants &amp; Dining","check-sections":["48","83","90","9101"],"add-tags":[],"primary-section":"90","primary-tag":"","apple-news":["entertainment"],related:!0,"help-primary-tag":"","help-sections":"Latest News, Lifestyle, Restaurants &amp; Dining, Entertainment / Lifestyle","help-primary-section":"Restaurants &amp; Dining"},54:{title:"Travel Story","check-sections":["48","93"],"add-tags":[],"primary-section":"93","primary-tag":"","apple-news":["entertainment","lifestyle"],related:!1,"help-primary-tag":"","help-sections":"Latest News, Travel","help-primary-section":"Travel"},55:{title:"Book Review","check-sections":["30","32","48"],"add-tags":["book reviews"],"primary-section":"32","primary-tag":"6989","apple-news":["entertainment"],related:!0,"help-primary-tag":"book reviews","help-sections":"Entertainment, Books, Latest News","help-primary-section":"Books"},61:{title:"YourHub Crime Blotter","check-sections":["48","2222","40"],"add-tags":["crime blotter"],"primary-section":"2222","primary-tag":"4241","apple-news":["colorado-news"],related:!0,"help-primary-tag":"crime blotter","help-sections":"Latest News, YourHub, Crime &amp; Courts","help-primary-section":"YourHub"},62:{title:"YourHub Biz Profile","check-sections":["48","2222","15"],"add-tags":["YourHub business profile"],"primary-section":"2222","primary-tag":"4280","apple-news":["colorado-news"],related:!0,"help-primary-tag":"YourHub business profile","help-sections":"Latest News, YourHub, Business","help-primary-section":"YourHub"}},N=Object.keys(O).length,I=[];for(var R in O)O.hasOwnProperty(R)&&I.push(R);jQuery("#auto-producer").html(A(O)),jQuery("#auto-producer").dialog({autoOpen:!1,buttons:[{id:"btnCapture",text:"CAPTURE",click:function(){c()},tabindex:17},{id:"btnClosures",text:"+Closures",click:function(){x()},tabindex:16},{id:"btnHomicides",text:"+Homicides",click:function(){j()},tabindex:15},{id:"btnCrime",text:"+Crime Map",click:function(){k()},tabindex:15},{id:"btnCX",text:"+CX",click:function(){w()},tabindex:14},{id:"btnInform",text:"+Inform",click:function(){v()},tabindex:13},{id:"btnPromos",text:"+Promos",click:function(){Q()},tabindex:12},{id:"btnCancel",text:"CANCEL",click:function(){jQuery(this).dialog("close")},tabindex:11},{id:"btnOne",text:"AUTOðŸ¤–PRODUCEâ„¢!",click:function(){S()},tabindex:10}],title:"Denver Post AUTOðŸ¤–PRODUCERâ„¢"+l,resize:"auto",modal:!0,minWidth:900,position:{my:"center",at:"center",of:window,collision:"none"},create:function(e,t){jQuery(e.target).parent().css("position","fixed")},open:function(e,t){C()}}),jQuery("#auto-producer").dialog("open")}function r(e){function t(){jQuery("#auto-producer").keydown(function(e){if(13==e.keyCode)return jQuery("#btnOne").trigger("click"),!1}),jQuery("input[name=searchname]:checked").focus()}function a(e){var t="<p>Welcome to The Denver Post AUTOðŸ¤–SEARCHERâ„¢ for CONTENT HUB. Here's what I can do for you:</p>";t+="<p>";for(var a in e)if(e.hasOwnProperty(a)){var i=e[a].default?' tabindex="1"':' tabindex="-1"';t+='<input type="radio" name="searchname" value="'+e[a]["search-term"]+'" '+i+e[a].default+"> "+e[a].title+"<br />"}return t+="</p>",t+='<div style="width:100%;height:0;display:block;clear:both;"></div>',t+='<p>Add a search term? <input type="text" id="APoptionSelect" tabindex="2"></p>',t+='<div style="text-align:right;font-size:85%;margin-bottom:0;"><a href="https://extras.denverpost.com/app/bookmarklet/ap-help.html" target="_blank">AUTOðŸ¤–PRODUCERâ„¢ Help</a></div>'}function i(){var e=jQuery("#APoptionSelect").val(),t=jQuery("input[name=searchname]:checked").val(),a=""!=e?t+" "+e:t;jQuery("#hub_search-search-input").val(a),jQuery("#auto-producer").html(r);var i=setInterval(function(){jQuery("#waiting-gif").height()>10&&(clearInterval(i),jQuery("#search-submit").trigger("click"))},500)}var n={1:{title:"Daily Camera","search-term":"daily camera",default:" checked"},2:{title:"Longmont Times-Call","search-term":"times-call",default:!1},3:{title:"Loveland Reporter-Herald","search-term":"reporter-herald",default:!1},4:{title:"The Cannabist","search-term":"cannabist",default:!1},5:{title:"The Know","search-term":"the know",default:!1},6:{title:"San Jose Mercury News","search-term":"mercury news",default:!1},7:{title:"Fort Morgan Times","search-term":"fort morgan times",default:!1}},r="<div class=\"ap-success\"><h3>Waiting for freakin' Content Hub...</h3><p>Here's a random GIF while you wait...blame Giphy if it's ... bad.</p><p><img src=\""+e+'" id="waiting-gif" /></p><p><input name="readonly" value="'+e+'" readonly /></p></div>';jQuery("#auto-producer").html(a(n)),jQuery("#auto-producer").dialog({autoOpen:!1,buttons:[{id:"btnCancel",text:"Cancel",click:function(){jQuery(this).dialog("close")},tabindex:4},{id:"btnOne",text:"AUTOðŸ¤–SEARCHâ„¢!",click:function(){i()},tabindex:3}],title:"Denver Post AUTOðŸ¤–SEARCHERâ„¢"+l,resize:"auto",modal:!0,minWidth:900,position:{my:"center",at:"center",of:window,collision:"none"},create:function(e,t){jQuery(e.target).parent().css("position","fixed")},open:function(e,a){t()}}),jQuery("#auto-producer").dialog("open")}function o(e){function t(){jQuery("#auto-producer").keydown(function(e){if(13==e.keyCode)return jQuery("#btnOne").trigger("click"),!1}),jQuery("input[name=searchname]:checked").focus()}function i(e){var t="<p>Welcome to The Denver Post AUTOðŸ¤–SEARCHERâ„¢ for WIRE HUB. Here's what I can do for you:</p>";t+='<div style="width:50%;float:left;display:inline-block;"><p><strong>Select a news source:</strong></p>';for(var a in e)if(e.hasOwnProperty(a)){var i=e[a].default?' tabindex="1"':' tabindex="-1"';t+='<input type="radio" name="searchname" value="'+e[a]["search-term"]+'" '+i+e[a].default+"> "+e[a].title+"<br />"}return t+="</div>",t+='<div style="width:50%;float:left;display:inline-block;"><p><strong>Select a date range:</strong></p>',t+='<input type="radio" name="searchlength" value="1" tabindex="2" checked /> 1 day<br />',t+='<input type="radio" name="searchlength" value="2" tabindex="-1" /> 2 days<br />',t+='<input type="radio" name="searchlength" value="7" tabindex="-1" /> 7 days<br />',t+="</div>",t+='<div style="width:100%;height:0;display:block;clear:both;"></div>',t+='<p>Add a search term? <input type="text" id="APoptionSelect" tabindex="3"></p>',t+='<div style="text-align:right;font-size:85%;margin-bottom:0;"><a href="https://extras.denverpost.com/app/bookmarklet/ap-help.html" target="_blank">AUTOðŸ¤–PRODUCERâ„¢ Help</a></div>'}function n(e){var t=new Date,i=t-864e5*e,n=new Date(i);document.getElementById("dfm_hub_start_mm").value=a(n.getMonth()+1),document.getElementById("dfm_hub_start_dd").value=a(n.getDate()),document.getElementById("dfm_hub_start_yyyy").value=n.getFullYear(),document.getElementById("dfm_hub_end_mm").value=a(t.getMonth()+1),document.getElementById("dfm_hub_end_dd").value=a(t.getDate()),document.getElementById("dfm_hub_end_yyyy").value=t.getFullYear()}function r(){var e=jQuery("input[name=searchlength]:checked").val(),t=jQuery("#APoptionSelect").val(),a=jQuery("input[name=searchname]:checked").val(),i=""!=t?a+" "+t:a;n(e),jQuery("#hub_search-search-input").val(i),jQuery("#auto-producer").html(s);var r=setInterval(function(){console.log(jQuery("#waiting-gif").height()),jQuery("#waiting-gif").height()>10&&(clearInterval(r),jQuery("#search-submit").trigger("click"))},500)}var o={1:{title:"Associated Press","search-term":"AP",default:" checked"},2:{title:"Washington Post","search-term":"washington post",default:!1},3:{title:"Bloomberg (experimental)","search-term":"bloomberg",default:!1}},s="<div class=\"ap-success\"><h3>Waiting for freakin' Wire Hub...</h3><p>Here's a random GIF while you wait...blame Giphy if it's ... bad.</p><p><img src=\""+e+'" id="waiting-gif" /></p><p><input name="readonly" value="'+e+'" readonly /></p>';jQuery("#auto-producer").html(i(o)),jQuery("#auto-producer").dialog({autoOpen:!1,buttons:[{id:"btnCancel",text:"Cancel",click:function(){jQuery(this).dialog("close")},tabindex:5},{id:"btnOne",text:"AUTOðŸ¤–SEARCHâ„¢!",click:function(){r()},tabindex:4}],title:"Denver Post AUTOðŸ¤–SEARCHERâ„¢"+l,resize:"auto",modal:!0,minWidth:900,position:{my:"center",at:"center",of:window,collision:"none"},create:function(e,t){jQuery(e.target).parent().css("position","fixed")},open:function(e,a){t()}}),jQuery("#auto-producer").dialog("open")}function s(e){function t(){jQuery("#auto-producer").keydown(function(e){if(13==e.keyCode)return jQuery("#btnOne").trigger("click"),!1}),jQuery("input[name=searchlength]:checked").focus()}function i(e){var t="<p>Welcome to The Denver Post AUTOðŸ¤–SEARCHERâ„¢ for ARTICLES. Here's what I can do for you:</p>";return t+='<div style="width:50%;float:left;display:inline-block;"><p><strong>Select a date range:</strong></p>',t+='<input type="radio" name="searchlength" value="1" tabindex="2" checked /> 1 day<br />',t+='<input type="radio" name="searchlength" value="2" tabindex="-1" /> 2 days<br />',t+='<input type="radio" name="searchlength" value="7" tabindex="-1" /> 7 days<br />',t+="</div>",t+='<div class="clear"></div>',t+='<p>Add a search term? <input type="text" id="APoptionSelect" tabindex="3"></p>',t+='<div style="text-align:right;font-size:85%;margin-bottom:0;"><a href="https://extras.denverpost.com/app/bookmarklet/ap-help.html" target="_blank">AUTOðŸ¤–PRODUCERâ„¢ Help</a></div>'}function n(e){var t=new Date,i=t-864e5*e,n=new Date(i);jQuery('select[name="dfm_start_mm"]').val(a(n.getMonth()+1)),jQuery('select[name="dfm_start_dd"]').val(a(n.getDate())),jQuery('select[name="dfm_start_yyyy"]').val(n.getFullYear()),jQuery('select[name="dfm_end_mm"]').val(a(t.getMonth()+1)),jQuery('select[name="dfm_end_dd"]').val(a(t.getDate())),jQuery('select[name="dfm_end_yyyy"]').val(t.getFullYear())}function r(){var e=jQuery("input[name=searchlength]:checked").val(),t=jQuery("#APoptionSelect").val();n(e),jQuery("#post-search-input").val(t),jQuery("#auto-producer").html(s);var a=setInterval(function(){console.log(jQuery("#waiting-gif").height()),jQuery("#waiting-gif").height()>10&&(clearInterval(a),jQuery("#post-query-submit").trigger("click"))},500)}var o={1:{title:"Associated Press","search-term":"associated press",default:" checked"}},s="<div class=\"ap-success\"><h3>Waiting for the freakin' Article Search...</strong></h3><p>Here's a random GIF while you wait...blame Giphy if it's ... bad.</p><p ><img src=\""+e+'" id="waiting-gif" /></p><p><input name="readonly" value="'+e+'" readonly /></p>';jQuery("#auto-producer").html(i(o)),jQuery("#auto-producer").dialog({autoOpen:!1,buttons:[{id:"btnCancel",text:"Cancel",click:function(){jQuery(this).dialog("close")},tabindex:5},{id:"btnOne",text:"AUTOðŸ¤–SEARCHâ„¢!",click:function(){r()},tabindex:4}],title:"Denver Post AUTOðŸ¤–SEARCHERâ„¢"+l,resize:"auto",modal:!0,minWidth:900,position:{my:"center",at:"center",of:window,collision:"none"},create:function(e,t){jQuery(e.target).parent().css("position","fixed")},open:function(e,a){t()}}),jQuery("#auto-producer").dialog("open")}function c(e){var t=window.location.href;t.indexOf("post.php")>-1?n(e):t.indexOf("edit.php")>-1?s(e):t.indexOf("content_hub_view")>-1?r(e):t.indexOf("wire_hub_view")>-1&&o(e)}var l=" v0.8.1";if(serialize=function(e,t){var a,i=[];for(a in e)if(e.hasOwnProperty(a)){var n=t?t+"["+a+"]":a,r=e[a];i.push(null!==r&&"object"==typeof r?serialize(r,n):encodeURIComponent(n)+"="+encodeURIComponent(r))}return i.join("&")},!document.body.contains(document.getElementById("auto-producer"))){var d=window.document.createElement("script");d.setAttribute("src","https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"),window.document.body.appendChild(d);var p=window.document.createElement("div");p.setAttribute("id","auto-producer"),window.document.body.appendChild(p);var u=window.document.createElement("link");u.setAttribute("type","text/css"),u.setAttribute("rel","https://extras.denverpost.com/app/bookmarklet/auto-producer.min.css"),window.document.body.appendChild(u)}var m=setInterval(function(){if("undefined"!=typeof jQuery.ui.dialog){clearInterval(m);var e="",t=(jQuery.ajax({url:"https://api.giphy.com/v1/gifs/random?api_key=dc6zaTOxFJmzC",type:"GET",success:function(t){e=t.data.image_url,e=e.replace("http:","https:")}}),setInterval(function(){"undefined"!=typeof e&&e.indexOf("giphy.gif")>-1&&(clearInterval(t),c(e))},10))}},50)}();