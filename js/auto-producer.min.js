!function(){function e(e){return document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML}function t(e){return e<10&&e>=0?"&nbsp;&nbsp;"+e:e}function a(e){for(var t=0,a=e.length;t<a;t++)document.getElementById("in-category-"+e[t]).checked=!0}function i(e){for(var t=0,a=e.length;t<a;t++)document.getElementById(m[e[t]]).checked=!0}function o(e,t){var a="fm-mason_post_settings-0-schema-0-primary_section-0",i="fm-mason_post_settings-0-schema-0-primary_tag-0";"undefined"==typeof e&&""!=e||""==document.getElementById(a).value||(document.getElementById(a).value=e),"undefined"==typeof t&&""!=t||""==document.getElementById(i).value||(document.getElementById(i).value=t)}function s(e){for(var t=0,a=e.length;t<a;t++){document.getElementById("new-tag-post_tag").value=e[t];jQuery("#post_tag .ajaxtag input.button.tagadd").click()}}function r(){jQuery("#coauthors_hidden_input").remove(),jQuery(".suggest.coauthor-row:first-child").append('<input id="coauthors_hidden_input" name="coauthors[]" value="the-associated-press" type="hidden">')}function n(){jQuery("#coauthors_hidden_input").remove(),jQuery(".suggest.coauthor-row:first-child").append('<input id="coauthors_hidden_input" name="coauthors[]" value="the-washington-post" type="hidden">')}function l(e,t,l,d){"undefined"!=typeof d&&1==d&&n(),"undefined"!=typeof l&&1==l&&r(),("undefined"!=typeof e.related&&1==e.related||1==t)&&p(),"undefined"!=typeof e["check-sections"]&&a(e["check-sections"]),"undefined"!=typeof e["add-tags"]&&s(e["add-tags"]),"undefined"==typeof e["primary-section"]&&"undefined"==typeof e["primary-tag"]||o(e["primary-section"],e["primary-tag"]),"undefined"!=typeof e["apple-news"]&&i(e["apple-news"])}function p(){var e=new Date,t=e.getSeconds()+60*e.getMinutes(),a=document.createElement("script");a.setAttribute("src","https://extras.denverpost.com/app/bookmarklet/js/related-tag.min.js?v="+t),document.body.appendChild(a)}function d(a){var i="<p>Welcome to The Denver Post AUTO-PRODUCERâ„¢. Here's a list of helper functions I can perform for you:</p>";i+='<div style="width:33%;float:left;display:inline-block;">',i+="<ul>";var o=0,s=!0;for(var r in a){var n=a[r].related?' <span style="color:darkred;font-weight:bold;">*</span>':" ",l="<p>Sets <strong>Primary Section</strong> to:<br />"+a[r]["help-primary-section"]+"</p>";l+="<p>Sets <strong>Primary Tag</strong> to:<br />"+a[r]["help-primary-tag"]+"</p>",l+="<p>Selects these <strong>Sections</strong>:<br />"+a[r]["help-sections"]+"</p>",l+="<p>Adds these <strong>Tags</strong>:<br />"+a[r]["add-tags"].join(", ")+"</p>",l+="<p>Adds <strong>Apple News</strong> sections:<br />"+a[r]["apple-news"]+"</p>",a.hasOwnProperty(r)&&(i+="<li>( "+t(r)+" ) "+a[r].title+n+' <a class="tooltip-link" data-tooltip="'+e(l)+'" href="#" tabindex="0">(?)</a></li>'),o>g/2&&o>10&&1==s&&(i+='</ul></div><div style="width:33%;float:left;display:inline-block;"><ul>',s=!1),o++}return i+="</ul>",i+="</div>",i+='<div style="width:33%;float:left;display:inline-block;">',i+='<div class="tipGraf" style="display:none;"></div>',i+="</div>",i+='<div style="width:100%;height:0;display:block;clear:both;"></div>',i+='<div style="width:50%;float:left;display:inline-block;">',i+='<p>Enter selection: <input type="text" id="APoptionSelect" tabindex="1"></p>',i+="</div>",i+='<div style="width:50%;float:left;display:inline-block;">',i+='<p>Insert Related by Primary Tag?<span style="color:darkred;font-weight:bold;">*</span> <input type="checkbox" id="relatedSelect" tabindex="2" /><br />',i+='Change author to AP?<span style="color:darkblue;font-weight:bold;">*</span> <input type="checkbox" id="APauthorSelect" tabindex="3" /><br />',i+='Change author to WaPo?<span style="color:darkblue;font-weight:bold;">*</span> <input type="checkbox" id="WaPoauthorSelect" tabindex="4" /></p>',i+="</div>",i+='<div style="width:100%;height:0;display:block;clear:both;"></div>',i+='<p style="font-size:85%;color:darkred;">Items with a star insert Related by Primary Tag automatically.<br />Related items will only be inserted on articles with 6 or more paragraphs.</p>',i+='<p style="font-size:85%;color:darkblue;">AP will override WaPo if both are checked; you WILL NOT see the new author until you save.</p>'}function c(){jQuery(".ui-dialog-titlebar-close").hide(),jQuery(".ui-dialog").css("z-index","99999999"),jQuery("#auto-producer").keydown(function(e){if(13==e.keyCode)return jQuery("#btnOne").trigger("click"),!1}),jQuery(".tooltip-link").on("mouseenter",function(){var e=jQuery(this).data("tooltip");jQuery(".tipGraf").html(e).css("display","block")}).on("mouseleave",function(){jQuery(".tipGraf").html("").css("display","none")}),jQuery("#APoptionSelect").get(0).focus()}function u(){var e=jQuery("#APoptionSelect").val(),t=jQuery("#relatedSelect").prop("checked"),a=jQuery("#APauthorSelect").prop("checked"),i=jQuery("#WaPoauthorSelect").prop("checked");if(f.indexOf(e)!=-1)jQuery("#auto-producer").html(b),l(h[e],t,a,i),setTimeout(function(){jQuery("#auto-producer").dialog("close")},1250);else{var o=confirm("That's not a valid option. Try again, or Cancel to quit.");if(0!=o)return!1;jQuery("#auto-producer").dialog("close")}}function y(){jQuery("#auto-producer").html(d(h)),jQuery("#auto-producer").dialog({autoOpen:!1,buttons:[{id:"btnCapture",text:"Capture New",click:function(){captureSettings()},tabindex:10},{id:"btnCancel",text:"Cancel",click:function(){jQuery(this).dialog("close")},tabindex:11},{id:"btnOne",text:"ðŸ¤– AUTO-PRODUCEâ„¢!",click:function(){u()},tabindex:12}],title:"Denver Post ðŸ¤– AUTO-PRODUCERâ„¢ v0.5.1",resize:"auto",modal:!0,minWidth:900,open:function(e,t){c()}}),jQuery("#auto-producer").dialog("open")}var m={broncos:"apple-news-section-a39ee59b-d872-39ad-a323-b46261ea34ad","colorado-news":"apple-news-section-f7f303a0-da3b-3a93-8c2c-93be489a30a6",sports:"apple-news-section-3f7e6dbd-9845-39a3-ab67-14118fbd4a0e",politics:"apple-news-section-befc81a6-ec36-3426-9992-0ce17c5782f4",business:"apple-news-section-9c5c2844-09ca-3e86-8315-87224d14c790",entertainment:"apple-news-section-e401a8c2-26e7-3871-8ede-782e7e582af4",lifestyle:"apple-news-section-c81ed803-584d-3a4a-b125-09beb6cf0f8b",cannabist:"apple-news-section-aa2f2d08-860e-32b4-a1d3-765ea19a85d7",opinion:"apple-news-section-4c9d0650-2499-3637-b87f-f9355a2a3471"},h={0:{title:"Do Nothing","add-tags":[],"help-sections":"Does not add sections or tags!",related:!1},1:{title:"Trump Story","check-sections":["48","11580","75","81","39","59"],"add-tags":["Donald Trump"],"primary-section":"11580","primary-tag":"1276","apple-news":["politics"],related:!0,"help-primary-tag":"Donald Trump","help-sections":"Latest News, News, Nation and World News, Politics, National Politics, Trump Administration","help-primary-section":"Trump Administration"},10:{title:"Nation / World Story","check-sections":["48","39","59"],"add-tags":[],"primary-section":"59","primary-tag":"","apple-news":[],related:!1,"help-primary-tag":"","help-sections":"Latest News, News, Nation and World News","help-primary-section":"Nation and World News"},20:{title:"Colorado News","check-sections":["48","39","47"],"add-tags":[],"primary-section":"47","primary-tag":"","apple-news":["colorado-news"],related:!0,"help-primary-tag":"","help-sections":"Latest News, News, Colorado News,","help-primary-section":"Colorado News"},21:{title:"Colorado Wildfires","check-sections":["48","39","47","65"],"add-tags":["wildfires","Colorado wildfires 2017"],"primary-section":"65","primary-tag":"11673","apple-news":["colorado-news"],related:!0,"help-primary-tag":"Colorado wildfires 2017","help-sections":"Latest News, News, Colorado News, Colorado Wildfires","help-primary-section":"Colorado Wildfires"},22:{title:"Crime Story","check-sections":["48","40","47","39"],"add-tags":[],"primary-section":"40","primary-tag":"","apple-news":["colorado-news"],related:!1,"help-primary-tag":"","help-sections":"Latest News, News, Colorado News, Crime &amp; Courts","help-primary-section":"Crime &amp; Courts"},23:{title:"Weather Story","check-sections":["48","64","47","39"],"add-tags":[],"primary-section":"64","primary-tag":"","apple-news":["colorado-news"],related:!0,"help-primary-tag":"","help-sections":"Latest News, News, Colorado News, Weather","help-primary-section":"Weather"},31:{title:"Colorado Legislature","check-sections":["48","39","47","79","80","75"],"add-tags":[],"primary-section":"79","primary-tag":"","apple-news":["politics"],related:!1,"help-primary-tag":"","help-sections":"Latest News, News, Colorado News, Politics, Local Politics, Colorado Legislature","help-primary-section":"Colorado Legislature"},40:{title:"Business Story","check-sections":["48","15"],"add-tags":["More Business News"],"primary-section":"15","primary-tag":"7864","apple-news":["business"],related:!1,"help-primary-tag":"More Business News","help-sections":"Latest News, Business","help-primary-section":"Business"},41:{title:"Technology Story","check-sections":["48","15","27"],"add-tags":["More Business News"],"primary-section":"27","primary-tag":"7864","apple-news":["business"],related:!1,"help-primary-tag":"More Business News","help-sections":"Latest News, Business, Technology","help-primary-section":"Technology"},51:{title:"Ask Amy","check-sections":["48","85","83","84","6710","9101"],"add-tags":["advice","Ask Amy","relationship advice"],"primary-section":"85","primary-tag":"7819","apple-news":["lifestyle"],related:!0,"help-primary-tag":"Ask Amy, advice, relationship advice","help-sections":"Latest News, Ask Amy, Lifestyle, Entertainment / Lifestyle, Family, Lifestyle Columnists","help-primary-section":"Ask Amy"},52:{title:"Movie Review","check-sections":["48","33","30","9101"],"add-tags":["movie reviews"],"primary-section":"33","primary-tag":"4289","apple-news":["entertainment"],related:!1,"help-primary-tag":"movie reviews","help-sections":"Latest News, Movies, Entertainment, Entertainment / Lifestyle","help-primary-section":"Movies"},53:{title:"Restaurants &amp; Dining","check-sections":["48","83","90","9101"],"add-tags":[],"primary-section":"90","primary-tag":"","apple-news":["entertainment"],related:!0,"help-primary-tag":"","help-sections":"Latest News, Lifestyle, Restaurants &amp; Dining, Entertainment / Lifestyle","help-primary-section":"Restaurants &amp; Dining"},54:{title:"Travel Story","check-sections":["48","93"],"add-tags":[],"primary-section":"93","primary-tag":"","apple-news":["entertainment","lifestyle"],related:!1,"help-primary-tag":"","help-sections":"Latest News, Travel","help-primary-section":"Travel"},61:{title:"YourHub Crime Blotter","check-sections":["48","2222","40"],"add-tags":["crime blotter"],"primary-section":"2222","primary-tag":"4241","apple-news":["colorado-news"],related:!0,"help-primary-tag":"crime blotter","help-sections":"Latest News, YourHub, Crime &amp; Courts","help-primary-section":"YourHub"},62:{title:"YourHub Biz Profile","check-sections":["48","2222","15"],"add-tags":["YourHub business profile"],"primary-section":"2222","primary-tag":"4280","apple-news":["colorado-news"],related:!0,"help-primary-tag":"YourHub business profile","help-sections":"Latest News, YourHub, Business","help-primary-section":"YourHub"}},g=Object.keys(h).length,f=[];for(var w in h)h.hasOwnProperty(w)&&f.push(w);var b='<h3 style="text-align:center;"><strong style="color:#067a51;">I can do that!</strong></h3><p style="text-align:center;"><img src="https://extras.denverpost.com/oil-gas-deaths/img/loading.gif" style="margin:1em auto;width:15%;" /></p>';if(!document.body.contains(document.getElementById("auto-producer"))){var v=window.document.createElement("script");v.setAttribute("src","https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"),window.document.body.appendChild(v);var k=window.document.createElement("div");k.setAttribute("id","auto-producer"),window.document.body.appendChild(k)}var N=setInterval(function(){"undefined"!=typeof jQuery.ui.dialog&&(clearInterval(N),y())},100)}();